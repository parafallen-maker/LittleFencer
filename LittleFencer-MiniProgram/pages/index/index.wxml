<!--
  é¦–é¡µ - LittleFencer å°ç¨‹åº
-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯åŒº -->
  <view class="user-section card">
    <block wx:if="{{isLoggedIn}}">
      <view class="user-info">
        <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
        <view class="user-text">
          <text class="nickname">{{userInfo.nickName}}</text>
          <text class="greeting">ä»Šå¤©ä¹Ÿè¦åŠ æ²¹è®­ç»ƒå“¦ï¼</text>
        </view>
      </view>
    </block>
    <block wx:else>
      <view class="login-prompt">
        <text class="login-text">ç™»å½•åå¯ä¿å­˜è®­ç»ƒè®°å½•</text>
        <button class="btn btn-primary" bindtap="onLogin">å¾®ä¿¡ç™»å½•</button>
      </view>
    </block>
  </view>

  <!-- ä»Šæ—¥ç»Ÿè®¡ -->
  <view class="stats-section card">
    <view class="card-title">ğŸ“Š ä»Šæ—¥è®­ç»ƒ</view>
    <view class="stats-row">
      <view class="stat-item">
        <text class="stat-value">{{todayStats.actionCount}}</text>
        <text class="stat-label">åŠ¨ä½œæ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{todayStats.perfectCount}}</text>
        <text class="stat-label">å®Œç¾</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{todayStats.maxCombo}}</text>
        <text class="stat-label">æœ€é«˜è¿å‡»</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{todayStats.trainingTime}}</text>
        <text class="stat-label">åˆ†é’Ÿ</text>
      </view>
    </view>
  </view>

  <!-- æ¯æ—¥æŒ‘æˆ˜ -->
  <view class="challenge-section card" wx:if="{{dailyChallenge}}">
    <view class="card-title">ğŸ¯ æ¯æ—¥æŒ‘æˆ˜</view>
    <view class="challenge-content">
      <text class="challenge-title">{{dailyChallenge.title}}</text>
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{dailyChallenge.progress / dailyChallenge.total * 100}}%"></view>
      </view>
      <view class="challenge-meta">
        <text class="progress-text">{{dailyChallenge.progress}}/{{dailyChallenge.total}}</text>
        <text class="reward-text">å¥–åŠ±: {{dailyChallenge.reward}}</text>
      </view>
    </view>
  </view>

  <!-- å¼€å§‹è®­ç»ƒå¤§æŒ‰é’® -->
  <view class="start-section">
    <button class="start-btn" bindtap="onStartTraining">
      <text class="start-icon">âš”ï¸</text>
      <text class="start-text">å¼€å§‹è®­ç»ƒ</text>
    </button>
  </view>

  <!-- å¿«æ·å…¥å£ -->
  <view class="quick-actions">
    <view 
      class="action-item card" 
      wx:for="{{quickActions}}" 
      wx:key="id"
      data-id="{{item.id}}"
      bindtap="onQuickAction"
    >
      <text class="action-icon">{{item.icon}}</text>
      <view class="action-text">
        <text class="action-title">{{item.title}}</text>
        <text class="action-desc">{{item.desc}}</text>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æç¤º -->
  <view class="footer-tip">
    <text>ğŸ’¡ æç¤ºï¼šå°†æ‰‹æœºæ¨ªæ”¾å¯è·å¾—æ›´å¥½çš„è®­ç»ƒä½“éªŒ</text>
  </view>
</view>
